#class xuexi open;
#alias {xue.start} {
    #var xue_jineng %1;
    xue.setup;
    gt ${shifu_pos};
    on_there {
        start_xue;
    };
};

#alias {xue.stop} {
    stop_xue;
    cancel_dazuo;
    #class xue.inner kill;
};

#alias {xue.setup} {
    #class xue.inner open;
    #alias {do_xue} {
        xue ${xue_jineng} from ${shifu};
    };
    #action {你的潜能不足！} {
        show_to_quest 潜能不足;
        xue.stop;
    };
    #action {你的法术修为还不够高深，无法学习} {
        show_to_quest spells 等级不够;
        xue.stop;
    };
    #alias {start_xue} {
        #ticker {xue} {
            do_xue;  
        } {1};
    };
    #alias {stop_xue} {
        #unticker {xue};
    };
    #action {DAZUO_DONE} {
        on_sleep {
            gt ${shifu_pos};
            on_there {
                start_xue;
            };
        };
    };
    #action {你今天太累了，结果什么也没有学到。} {
        stop_xue;
        do_dazuo;
    };
    #class xue.inner close;
};

#class xuexi close;
